!function(){for(var i=0,n=["ms","moz","webkit","o"],t=0;t<n.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[n[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[t]+"CancelAnimationFrame"]||window[n[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),e=Math.max(0,16-(t-i)),a=window.setTimeout(function(){n(t+e)},e);return i=t+e,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(i){clearTimeout(i)})}(),function($){$.fn.tyParallax=function(){function i(){window.requestAnimationFrame(i),n()}function n(){a.each(function(){var i=$(this),n=$(this).find(".ty-background"),t=n.find(".ty-inner"),e=i.offset().top,a=window.scrollY||window.pageYOffset||0,r=o.scrollTop();if(r+o.height()>=e&&r<=e+i.height()){var s=((a-e)/1.3).toFixed(0)+"px";n.css("transform","translate3d(0,"+(e-a)+"px,0)"),t.css("transform","translate3d(0,"+s+",0)")}else n.css("transform","translate3d(0,-9000px,0)")})}function t(){a.height(o.height());var i=a.find(".ty-background");$(i).height(a.height())}function e(){var i=o.height(),n=o.width();$("img.cover").each(function(){var t=$(this);t.css({width:"auto",height:"100%"}),t.width()<n&&t.css({width:"100%","max-height":"initial",height:"auto"}),t.css({width:"100%",height:"auto"}),t.height()<i&&t.css({height:i+"px","max-width":"initial",width:"auto"});var e=-(t.width()-n)/2,a=-(t.height()-i)/2;t.css("transform","translate("+e+"px,"+a+"px)")})}var a=$(this),o=$(window);if($(window).bind("orientationchange, resize",function(){t(),e()}),Modernizr.csstransforms3d&&Modernizr.mq("only all and (min-width: 1025px)")){var r=a.find(".ty-background");$(r).addClass("fixed"),i()}a.find("img").one("load",function(){console.log($(this).attr("src")),e(!0),$(this).fadeIn("slow")}).each(function(){this.complete&&$(this).load()}),t(),e()}}(jQuery);